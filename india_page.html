<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>India</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link rel="stylesheet" href="./styles/footer.css" />
    <link rel="icon" href="./images/cirlce favi-icon.png" />
    <link rel="stylesheet" href="./styles/navbar.css" />
    <link rel="stylesheet" href="./styles/india_page.css" />
  </head>
  <body>
    <nav id="nav"></nav>
    <!-- main news section -->
    <div id="main_container">
      <!-- title and region div -->
      <div class="p-first">
        <p>News/India</p>
      </div>
      <div class="h_first">
        <h1>India</h1>
      </div>
      <!-- main news container where data appending -->
      <div id="container">
        <!-- main news div -->
        <div class="news_div" id="main_news">
            <!-- appending all news data here -->
        </div>
      </div>
      <!-- side news container -->
      <div id="side_container">
         <!-- Side  news div read this -->
         <div class="child_div" id="side_cont_1">
          <div class="span">
            <div><span>READ THIS</span></div>
            <div></div>
          </div>        
          <div class="side_div">
            <div>
              <p>
                3,2,1...Liftoff to Moon with world's most powerful rocket | Immersive
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/Cover_Photo_(4).png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Sar tan se juda Hyderabad chapter: Arrests, bails over hate
                speech, threats
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/WhatsApp_Image_2022-08-25_at_7_1_1200x768.jpeg?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                BJP leader Sonali Phogat's autopsy reveals 'blunt injury', murder case registered in Goa
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/sonali_phogat_0_1200x768.png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Noida twin towers demolition will leave 80,000 tonnes of debris
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/twin_towers_noida_1200x768.jpeg?size=88:50"
                alt=""
              />
            </div>
          </div>
        </div>
        <!-- watch right now section -->
        <div class="child_div_2" id="side_cont_2">
          <div class="span_2">
            <div><span>WATCH RIGHT NOW</span></div>
            <div></div>
          </div>
          <div class="side_div">
            <div>
              <p>
                'Go back to India': Texas woman threatens, assaults Indians
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/eedgbftgrnhty_1_1200x768.png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Ghulam Nabi Azad quits Congress, resigns from all party posts
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/rtyhtnbg_0_1200x768.png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Brother of Sonali Phogat claims she was raped before her death;  more
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/sonali_phogat_0_1200x768_0_120_0_1200x768.jpeg?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Infiltration bid foiled in J&K's Uri, three terrorists killed
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/rthgbthyty_0_1200x768.png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                James Webb Telescope shares the largest image of the universe
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/webb.jpg?size=88:50"
                alt=""
              />
            </div>
          </div>
        </div>
        <!-- Side  news div rop takes -->
        <div class="child_div_3" id="side_cont_3">
          <div class="span_3">
            <div><span>TOP TAKES</span></div>
            <div></div>
          </div>
          <div class="side_div">
            <div>
              <p>
                'Go back to India': Texas woman threatens, assaults Indians
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/eedgbftgrnhty_1_1200x768.png?size=88:50"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                NIA arrests 2 accused in Mundra port drug haul; SC to hear cases of homebuyers of Twin Towers; more
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/dfvgrtghty-88x50.png?5NzQWjKAyoNUXWoOwIgCvx.ngU3DlPzy"
                alt=""
              />
            </div>
          </div>
          <div class="side_div">
            <div>
              <p>
                Brother of Sonali Phogat claims she was raped before her death;  more
              </p>
            </div>
            <div>
              <img
                src="https://akm-img-a-in.tosshub.com/indiatoday/images/video/202208/sonali_phogat_0_1200x768_0_120_0_1200x768.jpeg?size=88:50"
                alt=""
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="buttons">
      <!-- appending buttons here -->
    </div>
  </body>
</html>
<script src="./scripts/india.js" type="module"></script>
<script type="module">
  // Navbar and scroll to top init

  import navbar from "./components/navbar.js"

document.querySelector("#nav").innerHTML = navbar();

let scroller = document.getElementById("scrollToTop");

let scrolled = () => {
    let pos = document.documentElement.scrollTop;
    let a = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    let b = Math.round((pos * 100) / a);
    if (b > 15) {
        scroller.style.display = "block";
    } else {
        scroller.style.display = "none";
    }
}

window.addEventListener("scroll", () => {
    scrolled();
})

window.addEventListener("load", () => {
    scrolled();
})

let scrollTop = () => {
    window.scrollTo({
        top: 0,
        left: 0,
        behavior: "smooth"
    });
}

document.querySelector("#scrollToTop").addEventListener("click", () => {
    scrollTop();
})

// main menu drop down

let showDropDown = () => {
    let dropDown = document.getElementById("dropDownSec");
    dropDown.style.display = "flex";
}

let hideDropDown = () => {
    let dropDown = document.getElementById("dropDownSec");
    dropDown.style.display = "none";
}

document.getElementById("dropDown").addEventListener("click",() => {
    showDropDown();
})

document.getElementById("dropDown").addEventListener("dblclick",() => {
    hideDropDown();
})

// search functionality
let search = document.getElementById("search");

let submitted = async (query) => {
    try {
        // let key = "pub_105542082a44e012a61301d0ea8bb55421a19";
        // let res = await fetch(`https://newsdata.io/api/1/news?apikey=${key}&q=${query}`);
        let key = "3a2ea667e2344d5e9ba3e7f0a7a25feb";
        let res = await fetch(`https://newsapi.org/v2/top-headlines?q=${query}&apiKey=${key}`);
        let data = await res.json();
        let result = data.articles;
        localStorage.setItem("searchData",JSON.stringify(result));
        window.location.href="./search.html";
    } catch (error) {
        console.log("Error: ",error);
    }
}

search.addEventListener("search",()=>{
    let query = search.value;
    console.log("Successful")
    submitted(query);
})
// navbar and scroll to top end

// footer section
import footer from "./components/foot.js";
document.getElementById("footer").innerHTML=footer();
// footer section end
</script>