<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="./styles/index.css"> -->
    <link rel="stylesheet" href="./styles/sports.css">
    <link rel="stylesheet" href="./styles/navbar.css">
    <link rel="icon" href="./images/cirlce favi-icon.png">
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
</head>

<body>
    <nav id="nav"></nav>
    <div id="nav2">
        <a href="">ASIA CUP 2022</a>
        <a href="">CRICKET</a>
        <a href="">FOOTBALL</a>
        <a href="">TENNIS</a>
        <a href="">OTHER SPORTS</a>
        <a href="">&#9679&#9679&#9679</a>
    </div>

    <div id="mainBody">
        <p>News/Sports</p>
        <div>
            <div id="tl">
                <div>
                    <div>
                        <div class="img_div">
                            <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/Babar_Azam_3_0_1200x768.png?l57Zjp0LNitwPjF5i2em6ASw67vgN6qs&size=483:271"
                                alt="no img found">
                        </div>
                        <h1>Stigma of beating India is broken: Moin backs PAK’s ‘best team’ to win Asia Cup</h1>
                    </div>
                    <div>
                        <div>
                            <div class="img_div">
                                <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/PTI03_27_2022_000231A_1200x768.jpeg?trt1b6LB2vAKkrhIFihH8iEnqeE.sWm1&size=237:133"
                                    alt="no img found">
                            </div>
                            <h3>Asia Cup | A lot left in that tank: Du Plessis congratulates Kohli for 100 T20Is</h3>
                        </div>
                        <div>
                            <div class="img_div">
                                <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/RTXAN110_1200x768.png?5p28JkdUAoN9PA_tAhozm9wINsKY_3fn&size=237:133"
                                    alt="no img found">
                            </div>
                            <h3>If a big player sits out or rests in current India T20I team, it is fine: Kapil Dev</h3>
                        </div>
                    </div>
                </div>
                <div>
                    <h3>TOP STORIES</h3>
                    <div>
                        <h3>Asia Cup | Choosing between Rishabh Pant and Dinesh Karthik is a big headache for India:
                            Cheteshwar Pujara</h3>
                        <h3>Asia Cup 2022 | I have no doubt that Virat Kohli will rise again: Harbhajan Singh</h3>
                        <h3>Asia Cup | Watch: De Villiers sends a heartfelt message to Kohli ahead of 100th T20I</h3>
                        <h3>I don't think so: Kapil Dev says Asia Cup is not Kohli's last audition before T20 WC</h3>
                        <h3>First-innings batting let us down: Elgar slams SA’s batting after defeat in 2nd Test vs ENG
                        </h3>
                        <h3>
                            <p class="impFeature">IMPACT FEATURE</p>Expectations are very high: Pant on ‘hyped-up’
                            India-Pakistan Asia Cup match
                        </h3>
                        <h3>
                            <p class="impFeature">IMPACT FEATURE</p>India and Pak players interaction at Asia Cup
                            reflected respect and friendship: Babar
                        </h3>
                        <h3>
                            <p class="impFeature">IMPACT FEATURE</p> Hardik Pandya wants to stay away from hype in IND
                            vs PAK match
                        </h3>
                        <h3>People can create the hype, I'll focus on match: Rohit ahead of Pak clash</h3>
                        <h3>Their confidence is so high: Mohammad Sami backs Pakistan to win Asia Cup 2022</h3>
                        <h3>Asia Cup | Conditions won't allow Bhuvneshwar Kumar to swing the ball: Harbhajan Singh</h3>
                        <h3>We completely forgot about the Lord’s performance: Stokes after ENG beat SA in 2nd Test</h3>
                        <h3>Asia Cup 2022, IND vs PAK Weather Forecast: Hot and humid conditions to welcome teams</h3>
                        <h3>Asia Cup | We demonstrated in T20 World Cup that we are not a one-man squad: Babar Azam</h3>
                        <h3>Asia Cup 2022: IND vs PAK – When and where to watch Match 2 on TV, online?</h3>
                        <h3>Sister act back together as Serena, Venus Williams get US Open doubles wild-card entry</h3>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <!-- empty div -->
        </div>
        <div id="bl">
            <div>
                <div>
                    <h3>CRICKET</h3>
                    <div>
                        <div class="img_div">
                            <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/Babar_Azam_3_0_1200x768.png?size=88:50"
                                alt="no img found">
                        </div>
                        <h3>Stigma of beating India is broken: Moin backs PAK’s ‘best team’ to win Asia Cup</h3>
                    </div>
                    <div>
                        <div class="img_div">
                            <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/PTI03_27_2022_000231A_1200x768.jpeg"
                                alt="no img found">
                        </div>
                        <h3>Asia Cup | A lot left in that tank: Du Plessis congratulates Kohli for 100 T20Is</h3>
                    </div>
                    <div>
                        <div class="img_div">
                            <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/RTXAN110_1200x768.png"
                                alt="no img found">
                        </div>
                        <h3>If a big player sits out or rests in current India T20I team, it is fine: Kapil Dev</h3>
                    </div>
                    <div>
                        <div class="img_div">
                            <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/PTI06_16_2022_000187B_1200x768.jpeg"
                                alt="no img found">
                        </div>
                        <h3>Asia Cup | Choosing between Rishabh Pant and Dinesh Karthik is a big headache for India:
                            Cheteshwar</h3>
                    </div>
                </div>
                <div>
                    <h3>FOOTBALL</h3>
                    <div class="img_div">
                        <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/story/202208/2022-08-27T133518Z_582111748_U_1200x768.png"
                            alt="no img found">
                    </div>
                    <h3>We were rewarded for our battle mentality: Erik ten Hag after 1-0 win vs Southampton</h3>
                </div>
            </div>
            <div>
                <!-- empty div -->
            </div>
        </div>

    </div>
    <div id="slider">
        <div id="photos">
            <h3>PHOTOS</h3>
            <div class="main-carousel4"
                data-flickity='{ "cellAlign": "left", "contain": true, "autoPlay":true, "wrapAround": true, "pageDots":false }'>
                <div class="carousel-cell4">
                    <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/photogallery/202207/Virat_2018_1200x768.jpeg?j45lmdgK3ZkQXxCX923JFctF382Cn9HR&size=650:363"
                        alt="no img found">
                    <h3>Five iconic knocks of Virat Kohli</h3>
                </div>
                <div class="carousel-cell4">
                    <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/photogallery/202207/mirabaichanu_1200x768.jpeg?5urghnFhHIwk6bk59tCGWgY0tnybJf49&size=650:363"
                        alt="no img found">
                    <h3>Tokyo medalists aim for Gold at CWG 2022</h3>
                </div>
                <div class="carousel-cell4">
                    <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/photogallery/202208/Commonwealth_Games__3__0_1200x768.jpeg?IstCcnCeRMlsVYqC9eQXpAoLNMecykQN&size=650:363"
                        alt="no img found">
                    <h3>Commonwealth Games come to an end with a power-packed closing ceremony | Pics</h3>
                </div>
                <div class="carousel-cell4">
                    <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/photogallery/202207/Manika_1200x768.jpeg?XUOfYqwFYJcjopdTmAfH_0XCTjGNzs3a&size=650:363"
                        alt="no img found">
                    <h3>CWG22: India table-tennis, hockey teams start well on Day 1</h3>
                </div>
                <div class="carousel-cell4">
                    <img src="https://akm-img-a-in.tosshub.com/indiatoday/images/photogallery/202207/Commonwealth_Games__4__1200x768.png?eqyOnC5rqLAZy1cw4uHqCuirYPxjJiuK&size=650:363"
                        alt="no img found">
                    <h3>Commonwealth Games kick off with power-packed opening ceremony in Birmingham | Pics</h3>
                </div>
            </div>
        </div>
        <div>
            <!-- empty div -->
        </div>
    </div>
    <div id="footer"></div>
</body>

</html>
<script type="module">

    // Navbar and scroll to top init

    import navbar from "./components/navbar.js"

    document.querySelector("#nav").innerHTML = navbar();

    let scroller = document.getElementById("scrollToTop");

    let scrolled = () => {
        let pos = document.documentElement.scrollTop;
        let a = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        let b = Math.round((pos * 100) / a);
        if (b > 15) {
            scroller.style.display = "block";
        } else {
            scroller.style.display = "none";
        }
    }

    window.addEventListener("scroll", () => {
        scrolled();
    })

    window.addEventListener("load", () => {
        scrolled();
    })

    let scrollTop = () => {
        window.scrollTo({
            top: 0,
            left: 0,
            behavior: "smooth"
        });
    }

    document.querySelector("#scrollToTop").addEventListener("click", () => {
        scrollTop();
    })

    // main menu drop down

    let showDropDown = () => {
        let dropDown = document.getElementById("dropDownSec");
        dropDown.style.display = "flex";
    }

    let hideDropDown = () => {
        let dropDown = document.getElementById("dropDownSec");
        dropDown.style.display = "none";
    }

    document.getElementById("dropDown").addEventListener("click", () => {
        showDropDown();
    })

    document.getElementById("dropDown").addEventListener("dblclick", () => {
        hideDropDown();
    })

    // search functionality
    let search = document.getElementById("search");

    let submitted = async (query) => {
        try {
            // let key = "pub_105542082a44e012a61301d0ea8bb55421a19";
            // let res = await fetch(`https://newsdata.io/api/1/news?apikey=${key}&q=${query}`);
            let key = "3a2ea667e2344d5e9ba3e7f0a7a25feb";
            let res = await fetch(`https://newsapi.org/v2/top-headlines?q=${query}&apiKey=${key}`);
            let data = await res.json();
            let result = data.articles;
            localStorage.setItem("searchData", JSON.stringify(result));
            window.location.href = "./search.html";
        } catch (error) {
            console.log("Error: ", error);
        }
    }

    search.addEventListener("search", () => {
        let query = search.value;
        console.log("Successful")
        submitted(query);
    })
    // navbar and scroll to top end

    // displaying user name
    let logInStatus = localStorage.getItem("loggedInStatus");
    let userName = localStorage.getItem("loggedInUsername");
    let loginDetail = document.getElementById("userDetails");
    if (logInStatus === "true") {
        // console.log("loggedIn", userName)
        document.querySelector("#profile").addEventListener("mouseenter", () => {
            showProfile();
        })
        function showProfile() {
            loginDetail.style.display = "block";
        }
        document.querySelector("#profile").addEventListener("mouseleave", () => {
            hideProfile();
        })
        function hideProfile() {
            loginDetail.style.display = "none";
        }
        loginDetail.innerHTML = "";

        let h3 = document.createElement("h3");
        h3.innerText = "Welcome, " + userName;

        let button = document.createElement("button");
        button.innerText = "Sign Out";

        button.addEventListener("click", () => {
            signOut();
        })
        loginDetail.append(h3, button);
    }

    function signOut() {
        localStorage.removeItem("loggedInStatus");
        localStorage.removeItem("loggedInUsername");
    }


    // footer section
    import footer from "./components/foot.js";
    document.getElementById("footer").innerHTML = footer();
  // footer section end
</script>
<script src="sports.js"></script>
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>